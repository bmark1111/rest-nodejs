var express = require("express");

function REST_ROUTER(connection) {//router, connection) {

	var router = express.Router();
	app.use('/api', router);

	router.get("/",function(req, res) {
		ctrl = require('../controllers/home.js');
		ctrl.controller(req, res);
	});

	router.get("/users", function(req, res) {
		ctrl = require('../controllers/users.js');
		ctrl.list(req, res, connection);
	});

	router.get("/users/:user_id",function(req, res) {
		ctrl = require('../controllers/users.js');
		ctrl.retrieve(req, res, connection);
	});

	 router.post("/users",function(req, res) {
		ctrl = require('../controllers/users.js');
		ctrl.insert(req, res, connection);
	});

	router.put("/users",function(req, res) {
		ctrl = require('../controllers/users.js');
		ctrl.update(req, res, connection);
	});

	router.delete("/users/:email",function(req, res) {
		ctrl = require('../controllers/users.js');
		ctrl.delete(req, res, connection);
	});
}

//function REST_ROUTER(router, connection) {
//	var self = this;
//	self.handleRoutes(router, connection);
//}
//REST_ROUTER.prototype.handleRoutes = function(router, connection) {
//	var self = this;
//
//	router.get("/",function(req, res) {
//		ctrl = require('../controllers/home.js');
//		ctrl.controller(req, res);
//	});
//
//	router.get("/users", function(req, res) {
//		ctrl = require('../controllers/users.js');
//		ctrl.list(req, res, connection);
//	});
//
//	router.get("/users/:user_id",function(req,res) {
//		ctrl = require('../controllers/users.js');
//		ctrl.retrieve(req, res, connection);
//	});
//
//	 router.post("/users",function(req,res) {
//		ctrl = require('../controllers/users.js');
//		ctrl.insert(req, res, connection);
//	});
//
//	router.put("/users",function(req,res) {
//		ctrl = require('../controllers/users.js');
//		ctrl.update(req, res, connection);
//	});
//
//	router.delete("/users/:email",function(req,res){
//		ctrl = require('../controllers/users.js');
//		ctrl.delete(req, res, connection);
//	});
//
//};

module.exports = REST_ROUTER;